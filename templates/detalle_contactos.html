{% extends 'base.html' %}

{% block title %}Iniciar Sesión{% endblock %}

{% block content %}
<body class="font-sans antialiased text-gray-800">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-center text-indigo-700 mb-8">Detalles de Contacto</h1>

        <div class="bg-white shadow-xl rounded-lg p-6 sm:p-8 md:p-10 mb-8">
            <div class="flex flex-col items-center mb-6">
                {% if avatar_url %}
                    <img src="{{ avatar_url }}" alt="Avatar de {{ user.username }}" class="rounded-full w-32 h-32 object-cover border-4 border-indigo-200 shadow-md">
                {% else %}
                    <img src="{{ url_for('static', filename='images/defaults/default_avatar.png') }}" alt="Avatar por defecto" class="rounded-full w-32 h-32 object-cover border-4 border-indigo-200 shadow-md">
                {% endif %}
                <h2 class="text-2xl font-semibold text-gray-900 mt-4">{{ user.nombre }} {{ user.primer_apellido }} {{ user.segundo_apellido if user.segundo_apellido else '' }}</h2>
                <p class="text-gray-600">@{{ user.username }}</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Información de Contacto</h3>
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Teléfono:</span>
                        <span class="text-gray-900">{{ user.telefono }}</span>
                    </div>
                    {% if user.email %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Email:</span>
                        <span class="text-gray-900">{{ user.email }}</span>
                    </div>
                    {% endif %}
                    {% if user.telefono_emergencia %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Tel. Emergencia:</span>
                        <span class="text-gray-900">{{ user.telefono_emergencia }}</span>
                    </div>
                    {% endif %}
                    {% if user.nombre_emergencia %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Contacto Emergencia:</span>
                        <span class="text-gray-900">{{ user.nombre_emergencia }}</span>
                    </div>
                    {% endif %}
                    {% if user.direccion %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Dirección:</span>
                        <span class="text-gray-900">{{ user.direccion }}</span>
                    </div>
                    {% endif %}
                </div>

                <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Información Adicional</h3>
                    {% if user.cedula %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Cédula:</span>
                        <span class="text-gray-900">{{ user.cedula }}</span>
                    </div>
                    {% endif %}
                    {% if user.empresa %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Empresa:</span>
                        <span class="text-gray-900">{{ user.empresa }}</span>
                    </div>
                    {% endif %}
                    {% if user.actividad %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Actividad:</span>
                        <span class="text-gray-900">{{ user.actividad }}</span>
                    </div>
                    {% endif %}
                    {% if user.capacidad %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Capacidad:</span>
                        <span class="text-gray-900">{{ user.capacidad }}</span>
                    </div>
                    {% endif %}
                    {% if user.participacion %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Participación:</span>
                        <span class="text-gray-900">{{ user.participacion }}</span>
                    </div>
                    {% endif %}
                    <div class="detail-item">
                        <span class="font-medium text-gray-700">Fecha de Registro:</span>
                        <span class="text-gray-900">{{ user.fecha_registro.strftime('%d/%m/%Y %H:%M') }}</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-8 text-center">
            <a href="{{ url_for('contactos.ver_contactos') }}" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                Volver a la Lista de Contactos
            </a>
        </div>
    </div>
{% endblock %}